---
layout: post
title:  "CUDA cmake 中解决 C4819 C4996 C4800 警告"
date:   2015-7-26 10:55:54
tags: [CUDA,VisualStudio,Cmake]
---

# 问题
CUDA windows 版中编译警告 C4819 的问题由来已久，大概是从 4.5 或者 5.0 版本就有了。每次编译刷刷刷的，不仅仅是强迫症的问题，万一出个错要到上面去翻半天。

如果是直接用 Visual Studio，在项目里面禁用掉就好了。但是最近做东西在用cmake，貌似cmake生成的项目里面，在vs里面禁用警告是没用的，原因可能是因为cmake自己生成了一套命令行吧，待考证。

# 解决
网上有人说：
> 方法一)     在“项目”-> “属性” -> “配置属性” -> “CUDA C/C++” -> “Command >Line”的“其他选项(D)”中添加：
> 【-Xcompiler "/wd 4819"】；
> 方法二)     转换Code文件为Unicode格式。打开出现warning的文件，Ctrl+A全选，然后在文件>菜单：file->advancedsave options ，在弹出的选项中选择新的编码方式为：UNICODE >codepage 1200 ，点击确定，问题就解决了。
> 方法三)     在“项目”-> “属性” -> “配置属性” -> “C/C++” -> “高级”的“禁用特定>警告”中添加相应的警告编号：4819；
> 方法四)     找出非Unicode格式的文件，然后在该文件的开始处加入下面的语句：
> \# pragma warning(disable:4819)
> 上述四种方法，第一种是在官方的工程文件中找到的，其他都是在网络上收到的，正真有效的也就>是第一种，第二种方法过于繁琐，不切合实际，其他方法都没发现有什么作用，应该不是针对CUDA的。
 
此法诚不余欺，但是cmake中没有此选项，等效方法是在cmake：
> add_definitions(/wd"4819" /wd"4996" /wd"4800")

我X，世界真安静啊！